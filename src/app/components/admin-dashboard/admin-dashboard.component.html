<div class="card rounded-4 shadow-lg m-3">
  <div class="card-body p-4">
    @if(currentUser) {
    <div class="d-flex flex-wrap justify-content-between align-items-center mb-4">

      <div class="d-flex align-items-center flex-wrap">
        <img class="rounded-pill user-avatar border border-primary border-2 shadow-sm me-3" [src]="userAvatar"
          alt="User Avatar" width="60" height="60">
        <div>
          <h5 class="card-title mb-1">Benvenuto</h5>
          <h6 class="fw-normal text-muted">{{ userDisplayName }}</h6>
          <span class="badge rounded-pill bg-info text-dark">
            {{ currentUser.role === 'user' ? 'Utente' : 'Amministratore' }}
          </span>
        </div>
      </div>

      <button (click)="logout()" class="btn btn-danger d-flex align-items-center rounded-4 mt-3">
        Disconnetti
        <ng-icon class="ms-2" name="bootstrapBoxArrowInRight" size="18"></ng-icon>
      </button>
    </div>
    }
  </div>
</div>

<div class="container-fluid">
  <div class="row">
    <!-- Sidebar menu -->
    <div class="col-md-2 p-3">
      <div class="btn-group-vertical w-100" role="group" aria-label="Admin navigation">
        <button (click)="changeCurrentView(adminViews.ACCOUNT)" type="button"
          [class.active]="isCurrentView(adminViews.ACCOUNT)"
          class="d-flex justify-content-start align-items-center btn btn-primary rounded-top-4">
          <ng-icon class="me-2" name="bootstrapPeopleFill" size="18"></ng-icon>
          Gestione account
        </button>

        <button (click)="changeCurrentView(adminViews.BILLING)" type="button"
          [class.active]="isCurrentView(adminViews.BILLING)"
          class="d-flex justify-content-start align-items-center btn btn-primary rounded-bottom-4">
          <ng-icon class="me-2" name="bootstrapFileEarmarkFill" size="18"></ng-icon>
          Fatturazione
        </button>
      </div>
    </div>

    <!-- Main content area -->
    <div class="col-md-10 p-3">
      <div class="card w-100 rounded-4">
        <div class="card-body">
          @switch (currentView) {
          @case (adminViews.ACCOUNT) {
          <app-admin-account />
          }
          @case (adminViews.BILLING) {
          <app-admin-biling />
          }
          }
        </div>
      </div>
    </div>
  </div>
</div>